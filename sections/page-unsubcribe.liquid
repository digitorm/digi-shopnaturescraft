<!--AZEXO_sections/page-unsubcribe.liquid_Section--><link rel="stylesheet" href="{{ 'section-main-page.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-rte.css' | asset_url }}" media="print" onload="this.media='all'">

<noscript>{{ 'section-main-page.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-rte.css' | asset_url | stylesheet_tag }}</noscript>

{% if section.settings.check %}
<div class="page_bg_top">
  <h1 class="main-page-title page-title text-center" style="color: {{section.settings.image }}">
    {{ page.title | escape }}
  </h1>
</div>
{% endif %}

<div class="page-width page-width--narrow">
  <div class="rte">
    {{ page.content }}
    <form id="email_signup" class="klaviyo_styling klaviyo_gdpr_embed_TbTg4a contact " action="//manage.kmail-lists.com/subscriptions/subscribe" data-ajax-submit="//manage.kmail-lists.com/ajax/subscriptions/subscribe" method="GET" target="_blank" novalidate="novalidate" style="max-width: 100%;">
    <input type="hidden" name="g" value="TbTg4a">
    <input type="hidden" name="$fields" value="Unsubscribe me to free product offers,Unsubscribe me from emails about Discounts and Promotions,Unsubscribe me from ALL mailing lists,Unsubscribe me from emails about Discounts and Promotions,email">
    <input type="hidden" name="$list_fields" value="$consent">
        <h2 class="klaviyo_helptext klaviyo_form_actions " style="margin-bottom: 0;"> Please update your preference: </h2>
    <div class="klaviyo_field_group actives">
    
      <div class="klaviyo_field_group klaviyo_form_actions">
     
        <div class="checkbox-c">
        <input type="radio" name="preference" id="consent-new-product" value="Unsubscribe me to free product offers">
        <label for="consent-new-product">Unsubscribe me to free product offers</label>
          
          </div>
         <div class="checkbox-c">
        <input type="radio" name="preference" id="consent-promotions" value="Unsubscribe me from emails about Discounts and Promotions">
        <label for="consent-promotions">Unsubscribe me from emails about Discounts and Promotions </label>
            </div>
         <div class="checkbox-c">
        <input type="radio" name="preference" id="consent-all-mailing" value="Unsubscribe me from ALL mailing lists">
        <label for="consent-all-mailing">Unsubscribe me from ALL mailing lists</label>
            </div>

        
<!--          <div class="checkbox-c">
        <input type="checkbox" name="Keep me subscribed to everything!" id="consent-everything" value="Keep me subscribed to everything!">
        <label for="consent-everything">Keep me subscribed to everything!</label>
        </div> -->
        <div class="field email-fields-none">
        <input class="field__input" type="email" value="" name="email" id="k_id_email" placeholder="Your email" />
        <label class="field__label" for="k_id_email">Email </label>
        </div>
          <div class="klaviyo_form_actions">
      <button type="submit" class="klaviyo_submit_button button disabled">Update your Preferences</button> </div>
        <!--button class="klaviyo_submit_button button click_rads disabled" >Update your Preferences</button> </div-->
      </div>
      
<!--       <div class="step-2 klaviyo_form_actions">
      <div class="field">
        <input class="field__input" type="email" value="" name="email" id="k_id_email" placeholder="Your email" />
        <label class="field__label" for="k_id_email">Email </label>
        </div>
       <div class="klaviyo_form_actions">
      <button type="submit" class="klaviyo_submit_button button disabled">Submit</button> </div>
        </div>
    -->
     <div class="klaviyo_messages success_message" style="display: none;">
     <div class="success_messages" >
        <h3 class="thank_you" style="text-align: center;">Your subscription preference has been submitted. </h3>
       <p>Send us an email at <a href="mailto:hazel@shopnaturescraft.com">hazel@shopnaturescraft.com</a> in case you want to subscribe again.</p>
     </div>
      <div class="error_message" style="display:none;"></div>
   </div>
  </form>
  <style type="text/css">
    form#email_signup > div {
    animation: 2s ease 0s 1 normal forwards running fade-out;
    opacity: 0;
    height: 0;
    overflow: hidden;
    visibility: hidden;
}
    
    form#email_signup > div.actives, form#email_signup > div.success_message {
    opacity: 1;
    height: auto;
  overflow: auto;
  visibility: visible;
 animation: 3s ease 0s 1 normal forwards running fade-in;
}
  .announce_add_empty {
    display: none !important;
}
  @keyframes fade-out {
  from {
    opacity: 100%;
  }
  to {
    opacity: 0%;
  }
}

@keyframes fade-in {
  from {
    opacity: 0%;
  }
  to {
    opacity: 100%;
  }
}
    .disabled {
    cursor: default;
    pointer-events: none;
}
    .checkbox-c *{
    cursor: pointer;
}
  .klaviyo_styling.klaviyo_gdpr_embed_TbTg4a input.field__input[type=email]  {
        background: #EDF6ED;
        border: 0px solid;
        box-shadow: none!important;
        padding: 0 30px;
        height: 86px;
        line-height: 86px;
        border-radius: 4px;
    }
    #email_signup label.field__label {
        left: 30px;
        top: 30px;
        text-transform: capitalize;
        font-size: 16px;
        color: #0a0a0a;
        font-family: "BWMODELICA BOLD";
        letter-spacing: 0;
    }
    form#email_signup .field__input:-webkit-autofill~.field__label, 
    form#email_signup .field__input:focus~.field__label, 
    form#email_signup .field__input:not(:placeholder-shown)~.field__label {
        top: 10px;
    }
    .checkbox-c {
        background: #EDF6ED;
        margin-bottom: 20px;
        padding: 30px;
        border-radius: 4px;
    }
    .banner__box.color-background-1 * {
        color: #000;
    }
    .banner__box.color-background-1 .banner__text {
        max-width: 490px;
        margin-left: auto;
        margin-right: auto;
    }
    button.klaviyo_submit_button.button {
          cursor: pointer;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        text-decoration: none;
        border: 0.1rem solid transparent;
        border-radius: 0;
        background-color: rgba(var(--color-button),var(--alpha-button-background));
        box-shadow: 0 0 0 0.1rem rgba(var(--color-button),var(--alpha-button-border));
        color: rgb(var(--color-button-text));
        appearance: none;
        border-radius: 10px;
        font-weight: normal;
        font-family: "BWMODELICA-MEDIUM";
         height: 85px;
    	padding: 0 67px;
    }
    .klaviyo_styling.klaviyo_gdpr_embed_TbTg4a .klaviyo_helptext,
    .klaviyo_condensed_styling.klaviyo_gdpr_embed_TbTg4a .klaviyo_helptext {
      padding-top: 10px;
      padding-bottom: 10px;
      text-align: center;
    }

    .klaviyo_styling.klaviyo_gdpr_embed_TbTg4a .klaviyo_gdpr_text,
    .klaviyo_condensed_styling.klaviyo_gdpr_embed_TbTg4a .klaviyo_gdpr_text {
      font-size: 14px;
      line-height: 1.3;
    }

    .klaviyo_styling.klaviyo_gdpr_embed_TbTg4a label,
    .klaviyo_condensed_styling.klaviyo_gdpr_embed_TbTg4a label {
      color: #222;
    }
.klaviyo_form_actions {
    margin-top: 30px;
}
    .klaviyo_styling .klaviyo_field_group .klaviyo_form_actions,
    .klaviyo_condensed_styling .klaviyo_form_actions, 
    .klaviyo_styling .klaviyo_form_actions {
      text-align: left;
    }

    .klaviyo_styling.klaviyo_gdpr_embed_TbTg4a input[type=radio]+label,
    .klaviyo_condensed_styling.klaviyo_gdpr_embed_TbTg4a input[type=radio]+label {
      display: inline;
      font-weight: normal;
      padding-left: 5px;
    }

    .klaviyo_styling.klaviyo_gdpr_embed_TbTg4a input[type=text],
    .klaviyo_styling.klaviyo_gdpr_embed_TbTg4a input[type=email],
    .klaviyo_condensed_styling.klaviyo_gdpr_embed_TbTg4a input[type=text],
    .klaviyo_condensed_styling.klaviyo_gdpr_embed_TbTg4a input[type=email] {
      border-radius: 2px;
    }
    @media screen and (min-width: 768px){
    	.overlay-banner .banner__box.color-background-1 {
            padding-top: 14rem;
        }
    .banner--small:not(.banner--adapt) {
    min-height: 40rem;
}
    }
 .email-fields-none {
    display: none;
}
    
  </style>


      <script type="text/javascript" src="//www.klaviyo.com/media/js/public/klaviyo_subscribe.js"></script>
<script type="text/javascript">
/* Javascript to add checked attribute to selected radio button and grab the value of it */
if (document.querySelector('input[name="preference"]')) {
  document.querySelectorAll('input[name="preference"]').forEach((elem) => {
    elem.addEventListener("change", function(event) {
      var radios = document.getElementsByTagName('input');
      for (i = 0; i < radios.length; i++) {
          if (radios[i].type == 'radio') {
              radios[i].removeAttribute("checked");
          }
      }
      var radioValue = event.target.value;
      elem.setAttribute("checked", "checked");
      console.log(radioValue);

      KlaviyoSubscribe.attachToForms('#email_signup', {
        hide_form_on_success: true,        
        extra_properties: {
        $source: '$embed',
        $method_type: "Klaviyo Form",
        $method_id: 'embed',
        $consent_version: 'Embed default text',
        Preference: radioValue
        },
        hide_form_on_success: true,
        custom_success_message: true
      });

    });
  });
}

     $('form input[name="email"]').keyup(function () {
  var email = $(this).val();
      var re = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/igm;
 
      if (re.test(email)) {
           $('.klaviyo_form_actions> button.klaviyo_submit_button.button').removeClass('disabled');
      } else {
          $('.klaviyo_form_actions> button.klaviyo_submit_button.button').addClass('disabled');
        
      }
});
      
jQuery('.checkbox-c input[type=radio]').click(function(){
            var n = jQuery('.checkbox-c input[type=radio]:checked').length;
   var email = $(this).val();
            if(n >= 1 ){    
               $('.click_rads').removeClass('disabled');
              $('.field').removeClass('email-fields-none');
             } else  {
                $('.click_rads').addClass('disabled');
             }
          });
     $('.button.klaviyo_submit_button.button.click_rads').on("click", function(e) {
      e.preventDefault();
         $('html,body').animate({
        scrollTop: $("#MainContent").offset().top},
        'slow');
			$(".klaviyo_field_group").removeClass('actives');
      $(".step-2").addClass('actives');
	}); 
  
</script>

















      
    
<!--   <script type="text/javascript" src="//www.klaviyo.com/media/js/public/klaviyo_subscribe.js"></script>
  <script type="text/javascript">
    
      $('form input[name="email"]').keyup(function () {
  var email = $(this).val();
      var re = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/igm;
      if (re.test(email)) {
           $('.klaviyo_form_actions> button.klaviyo_submit_button.button').removeClass('disabled');
      } else {
          $('.klaviyo_form_actions> button.klaviyo_submit_button.button').addClass('disabled');
        
      }
});
    
      
jQuery('.checkbox-c input[type=radio]').click(function(){
            var n = jQuery('.checkbox-c input[type=radio]:checked').length;
   
            if(n >= 1){    
               $('.click_rads').removeClass('disabled');                 
             } else  {
                $('.click_rads').addClass('disabled');
             }
          });
     $('.button.klaviyo_submit_button.button.click_rads').on("click", function(e) {
      e.preventDefault();
         $('html,body').animate({
        scrollTop: $("#MainContent").offset().top},
        'slow');
			$(".klaviyo_field_group").removeClass('actives');
      $(".step-2").addClass('actives');
	}); 
    
   KlaviyoSubscribe.attachToForms('#email_signup', {
      hide_form_on_success: true,
   	custom_success_message: true,
      extra_properties: {
        $source: '$embed',
        $method_type: "Klaviyo Form",
        $method_id: 'embed',
        $consent_version: 'Embed default text'
      }
    });
  </script> -->
  </div>
</div>


<style>
  {% if section.settings.image != blank %}
  .page_bg_top{
    background-image: url({{section.settings.image | img_url : '1900x'}});
  
  }
  {% endif %}
</style>


{% schema %}
{
  "name": "t:sections.main-page.name",
  "tag": "section",
  "class": "spaced-section page-top",
  "settings": [
    {
      "type": "checkbox",
      "id": "check",
 	  "default": true,
      "label": "Show Title"
    },
	{
      "type": "color",
      "id": "t_color",
      "label": "Title Color"
    },
	{
      "type": "image_picker",
      "id": "image",
      "label": "Title BG Image"
    }
  ]
}
{% endschema %}
<!--End_AZEXO_sections/page-unsubcribe.liquid_Section-->